I"›<p>so, DrawableBuilder is commingâ€¦</p>

<p>è¯¥ Builder ç±»ä¸»è¦æä¾›è¯­ä¹‰åŒ–çš„ API è¿›è¡Œå¿«æ·çš„ Shape åˆ›å»ºæ“ä½œã€‚</p>

<p>é€šè¿‡è¯­ä¹‰åŒ–çš„ API åˆ›å»º shape drawableã€‚</p>

<h2 id="ä»£ç åœ°å€">ä»£ç åœ°å€</h2>

<p>https://gist.github.com/maoruibin/4293314f0b7c277c2a635efa858a3e6e</p>

<p>å¦‚ä¸‹ï¼Œå‡ è¡Œä»£ç å°±ç”Ÿæˆäº†ä¸€ä¸ªçº¿æ¡èƒŒæ™¯ drawableã€‚</p>

<pre><code class="language-Java">Drawable drawable = new DrawableBuilder()
  .line()
  .build();
tvName.setBackground(drawable);
</code></pre>

<p>æ•ˆæœï¼š</p>

<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1eumuk7isj30dg03mmwx.jpg" alt="" /></p>

<p>è€Œä¹‹å‰ï¼Œæˆ‘ä»¬å¤§éƒ½æ˜¯åƒå¦‚ä¸‹æ–¹å¼æ¥æ„é€ çº¿æ¡ shapeã€‚</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;shape</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span> 
       <span class="na">android:shape=</span><span class="s">"rectangle"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;stroke</span> <span class="na">android:width=</span><span class="s">"1dp"</span> <span class="na">android:color=</span><span class="s">"#34495e"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</code></pre></div></div>

<p>ç”¨ xml drawable è®¾ç½®èƒŒæ™¯</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tvName</span> <span class="o">=</span> <span class="o">(</span><span class="nc">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tvName</span><span class="o">);</span>
<span class="n">tvName</span><span class="o">.</span><span class="na">setBackgroundResource</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">bk_line_drawable</span><span class="o">);</span>
</code></pre></div></div>
<p>æ ·å¼</p>

<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1eumuk7isj30dg03mmwx.jpg" alt="" /></p>

<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ç§æ–¹å¼æ•ˆæœä¸€è‡´ï¼Œä½†æ˜¯ä½¿ç”¨ä½“éªŒå´æ›´å¥½ã€‚åœ¨å†™å¥½å¸ƒå±€æ–‡ä»¶åï¼Œéƒ½éœ€è¦å» res ç›®å½•ä¸‹å†åˆ›å»º drawable æ–‡ä»¶ï¼Œç„¶åå†åˆ‡æ¢å› Activity æˆ–è€…å¸ƒå±€æ–‡ä»¶è¿›è¡ŒèƒŒæ™¯è®¾ç½®ï¼Œè¿™å°±å…ä¸äº†æˆ‘ä»¬è·³æ¥è·³å»çš„åˆ‡æ¢ç›®å½•ï¼Œå¾ˆéº»çƒ¦ã€‚</p>

<p>ç›¸æ¯”è€Œè¨€ï¼Œè¯­ä¹‰åŒ– API å°±æ˜¾å¾—éå¸¸å‹å¥½æ˜“ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Drawable</span> <span class="n">drawable</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DrawableBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">line</span><span class="o">()</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tvName.setBackground(drawable);
</code></pre></div></div>

<p>æ ·å¼ï¼š</p>

<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1eumuk7isj30dg03mmwx.jpg" alt="" /></p>

<p>è·Ÿ xml æ ·å¼ä¸€è‡´ï¼Œå¹¶ä¸”ä»£ç æ›´å°‘ï¼Œæ›´æ˜“äºä½¿ç”¨ã€‚</p>

<p>ä»¥ä¸‹æ˜¯åœ†è§’ç­‰å…¶ä»–çº¿æ¡çš„å±•ç¤ºã€‚</p>

<p><strong>æŒ‡å®šåº¦æ•°çš„åœ†è§’çº¿æ¡</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">DrawableBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">line</span><span class="o">()</span>
  <span class="o">.</span><span class="na">corner</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>æ ·å¼ï¼š</p>

<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1g1eu63aw9rj30d603imwx.jpg" alt="" /></p>

<p><strong>æ¤­åœ†å½¢åœ†è§’</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">DrawableBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">line</span><span class="o">()</span>
  <span class="o">.</span><span class="na">roundCorner</span><span class="o">()</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>		
</code></pre></div></div>

<p>æ ·å¼ï¼š</p>

<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1g1eu8cytmqj30d403et8h.jpg" alt="" /></p>

<p><strong>å……æ»¡é¢œè‰²çš„åœ†è§’</strong></p>

<pre><code class="language-Java">new DrawableBuilder()
  .line()
  .roundCorner()
  .fill("#d35400")
  .build();
</code></pre>

<p>æ ·å¼ï¼š</p>

<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1g1eug4duitj30de03wwe9.jpg" alt="" /></p>

<p><strong>è™šçº¿çº¿æ¡</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">DrawableBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">line</span><span class="o">()</span>
  <span class="o">.</span><span class="na">dash</span><span class="o">()</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>æ ·å¼</p>

<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1g1eus2o5l1j30d603sq2p.jpg" alt="" /></p>

<h2 id="å…¶ä»–-api">å…¶ä»– API</h2>

<p>é™¤äº†ä»¥ä¸Šè¯­ä¹‰åŒ– APIï¼Œè¿˜æä¾›äº†ç›¸åº”è‡ªå®šä¹‰å‚æ•°çš„ APIï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<table>
  <thead>
    <tr>
      <th>API</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>lineWidth(int width)</td>
      <td>è®¾ç½®çº¿æ¡å®½åº¦ï¼Œå‚æ•°ä¸ºå…·ä½“æ•°å€¼ï¼Œæ— éœ€è½¬æ¢</td>
    </tr>
    <tr>
      <td>lineColor(int lineColor)</td>
      <td>è®¾ç½®çº¿æ¡é¢œè‰²</td>
    </tr>
    <tr>
      <td>corner(float cornerRadius)</td>
      <td>è®¾ç½®åœ†è§’åº¦æ•°</td>
    </tr>
    <tr>
      <td>dashWidth(float dashWidth)</td>
      <td>è®¾ç½®è™šçº¿æ¯ä¸ªå•å…ƒé•¿åº¦</td>
    </tr>
    <tr>
      <td>dashGap(float dashGap)</td>
      <td>è®¾ç½®è™šçº¿è¾¹æ¡†æ¯ä¸ªå•å…ƒä¹‹é—´çš„é—´è·</td>
    </tr>
    <tr>
      <td>fill(@ColorInt int bkColor)</td>
      <td>è®¾ç½®å¡«å……é¢œè‰²</td>
    </tr>
  </tbody>
</table>

:ET