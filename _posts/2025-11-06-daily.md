---
layout: mypost
author: 咕咚
tags: daily
categories: blog
title: "文件存储"
---

开发者有时候可能花了大量时间去做一个东西，但是在用户那里看到的，用得到的只是一丁点。

这有点像那个很出名的图片，水面上看到的是一丁点的冰山，但水面下是一座庞大的冰山。

最近我在做 inBox 笔记的文件系统升级，就是这个感觉，做完后其实大家用起来没什么特别，还是之前的方式写笔记、添加图片、备份数据。

但是底层的笔记文件存储位置换了一遍，代码都适配了一圈。

这个工作对用户无感，但对开发者非常考验而且很容易出错，还需要格外谨慎，要考虑不同版本升级，如何自动迁移文件，如何迁移后文件能正常读取、图片能正确展示，等等，要考虑的问题很多。

当然这还只是个人项目，企业项目更是，要考虑的细节更多，关注的点也更多，今天就先写这些。
