---
layout: post
author: 咕咚
title: "微博工作记录"
description: 大需求记录
author: gudong
tags: 工作
categories: think 
---

> 按时间顺序，记录入职微博后，自己负责开发过的大功能。主要记录核心内容以及开发过程中的问题，思考。

## 发布器进度 2019/08-10
发布图片、视频支持进度展示

## 发布器支持最多 18 张图 2019/08-10
触摸事件搞的要死要活的。

## 自动存草稿（2019/5）
切到后台自动存储用户输入，大退后者杀死进行提示。是一个用户体验相关的功能。

## 投票发布器（2019/3）
微博发布器增加投票功能，开发时就是开发一个发布器附件，这里面包括投票 View，数据，以及复杂的发布器互斥。
![](https://ws1.sinaimg.cn/large/006tKfTcly1g1nxcbgjlwj30ou0nqwhx.jpg)

**输出**
* [提供语义化 API 用来创建 Shape Drawable](https://gist.github.com/maoruibin/4293314f0b7c277c2a635efa858a3e6e)
* [EditText View 限制输入字符数，并倒计还能输入多少字符，兼容中英文字符](https://gist.github.com/maoruibin/0c7bca8d024c0e5718fa8b029850bca0)

## 微博详情页重构(2019/1-3)
抽取转评赞模块。分为两期拆分，到微博后最大的一次代码改动。
主要就分而治之，对正文页进行模块拆分，各自负责自己独立的业务，降低代码的耦合性，提升可维护性。


## 主页 Tab 重构
对微博 tab 底栏进行改造。以前的 tab 大都是硬编码，不能支持灵活配置，重构主要解决配置的问题，重构后可以根据不同策略展示不同的底栏。

## 发布器 UI 改造
模仿 Facebook 发布器，替换原来的九宫格菜单，重新设计为底部滑动菜单。

## 编辑微博
微博可再次编辑。

## 主页小房子 Lottie 动画
使用 Lottie，在首页有新微博时，显示一个刷新动画，以及点击时刷新消失的动画。